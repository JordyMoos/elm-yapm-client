What does what?


Unauth:
[ ] Download the library command
[ ] Handle success of download
[ ] handle error of download
[ ] Submit login form success
[ ] Submit login form failed
[ ] Ask javascript to decrypt library



Auth:
[ ] Logout
[ ] Upload library command
[ ] Encrypt the library








Login flow
- Download library store as library data ?
- On form submit store the given master key

on both scenarios there should be checked if both cases are provided.
if true then a decryption request should be send.

So the libraryData and masterkey should be stored because we have no guaranty that one comes before the other

If we have all the data then we send a decrypt command to javascript
If that fails then we send a fail response back to the unauth stage which will tell that the masterkey is wrong or whatever
If it succeeds then it should send a success message with the passwords, somelibray info and the masterkey to the main
Which will then setup the user as authenticated



{
  library: Maybe LibraryData
  masterKey: Maybe MasterKey
}
